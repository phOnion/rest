<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Mappings - My Docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Mappings";
    var mkdocs_page_input_path = "mappings.md";
    var mkdocs_page_url = "/mappings/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> My Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Mappings</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#introduction">Introduction</a></li>
                
                    <li><a class="toctree-l4" href="#links">Links</a></li>
                
                    <li><a class="toctree-l4" href="#fields">Fields</a></li>
                
                    <li><a class="toctree-l4" href="#relations">Relations</a></li>
                
                    <li><a class="toctree-l4" href="#meta">Meta</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../transformer/">Transformer</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Serializers</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../serializers/intro/">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../serializers/plain_json/">Plain JSON</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../serializers/json_hal/">JSON HAL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../serializers/json_api/">JSON-API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../serializers/json_ld/">JSON-LD</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">My Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Mappings</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="introduction">Introduction</h2>
<p>The mappings are arrays passed to the transformer, from which it can workout what goes where. </p>
<p>An typical mapping looks something like:</p>
<pre><code>$mapping = [
    \Acme\DataObject::class =&gt; [
        'links' =&gt; [
            ['rel' =&gt; 'self', 'href' =&gt; '/entityLocation/{id}'],
            // more links
        ],
        'fields' =&gt; ['id', 'field1', 'field2', ...],
        'relations' =&gt; [
            'relationType' =&gt; // This is important in some serializations
                'method' // The name of the method to call on the object to retrieve the related data
        ],
        'meta' =&gt; [
            'ld' =&gt; [], // JSON-LD meta data
            'api' =&gt; [], // JSON-API meta data
        ]
    ]
];
</code></pre>

<h3 id="links">Links</h3>
<p>Links are part of HATEOAS in order to allow clients to "navigate" inside the returned data, also they allow lowering the footprint of the response by allowing the client to request the resources they need instead of receiving a huge JSON blob, regardless of the client's needs.</p>
<p>A link definition is an array with mandatory: <code>rel</code> &amp; <code>href</code> fields, everything else is pushed as additional attributes to the link.</p>
<h3 id="fields">Fields</h3>
<p>The list of fields, which <em>can</em> be retrieved from the object (<em>can</em>, because the transformer provides the ability to provide fields and resources to return).</p>
<h3 id="relations">Relations</h3>
<p>Relations are a <code>'field' =&gt; 'method'</code> relation. This is mainly useful for LD responses, since with them the type of the object is not the same as the filed they get populated because of the schema usage as opposed to HAL.</p>
<h3 id="meta">Meta</h3>
<p>Meta data should be handled with respect to <code>ld</code> and <code>api</code> keys, since those are special-case where data for JSON- LD and API have different purpose, but in order to define mappings for multiple response types (most appropriate scenario one is content negotiation) so care should be taken.</p>
<p><strong>Keep in mind that the <code>HydratableInterface</code> is a general purpose interface to allow hydration/extraction of object data.</strong></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../transformer/" class="btn btn-neutral float-right" title="Transformer">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../transformer/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
